"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.parseVariantOptions = exports.parsePrimaryOrSecondaryBaseOptions = exports.parsePrimaryBaseAndVariantOptions = exports.parsePrimaryAndSecondaryBaseOptions = undefined;

var _defineProperty2 = require("babel-runtime/helpers/defineProperty");

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
/* Copyright (c) 2017 Mobify Research & Development Inc. All rights reserved. */
/* * *  *  * *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */

/**
 * @param {Object} primaryOptions - baseOptions of current product with variantType === ApparelStyleVariantProduct
 * @example
 * {
 *	"options": [{ "code": "122811_bright_white",...}, {"code": "122811_heather_berry",...}],
 *	"selected": {{ "code": "122811_heather_berry",...}}
 *	"variantType": "ApparelStyleVariantProduct"
 * }
 * @param {Object} secondaryOptions - baseOptions of current product with variantType === ApparelSizeVariantProduct
 * @example
 * {
 *	"options": [{ "code": "300717433",...}, {"code": "300717434",...}],
 *	"selected": {{ "code": "300717433",...}}
 *	"variantType": "ApparelSizeVariantProduct"
 * }
 * @return {Array} - array of Variant objects
 * @example
 * [
 *    {
 *      "id": "300717433",
 *	    "values": { "ApparelSizeVariantProduct": "300717433", "ApparelStyleVariantProduct": "122811_heather_berry" },
 *    },
 *    {
 *      "id": "300717434",
 *	    "values": { "ApparelSizeVariantProduct": "300717434", "ApparelStyleVariantProduct": "122811_heather_berry" },
 *    }
 * ]
 */
var parsePrimaryAndSecondaryBaseOptions = exports.parsePrimaryAndSecondaryBaseOptions = function parsePrimaryAndSecondaryBaseOptions(primaryOptions, secondaryOptions) {
    var selectedPrimaryVariant = primaryOptions.selected.code;
    return secondaryOptions.options.map(function (option) {
        var _values;

        var id = option.code;
        var values = (_values = {}, (0, _defineProperty3.default)(_values, primaryOptions.variantType, selectedPrimaryVariant), (0, _defineProperty3.default)(_values, secondaryOptions.variantType, id), _values);
        return { id: id, values: values };
    });
};

/**
 * @param {Array} variantOptions- variantOptions of current product (size variants)
 * @example
 * [{ "code": "300717433",...}, {"code": "300717434",...}]
 *
 * @param {Object} primaryOptions- baseOptions of current product with variantType === ApparelStyleVariantProduct
 * @example
 * {
 *	"options": [{ "code": "122811_bright_white",...}, {"code": "122811_heather_berry",...}],
 *	"selected": {{ "code": "122811_heather_berry",...}}
 *	"variantType": "ApparelStyleVariantProduct"
 * }
 * @param {string} productVariantType - the type of variant product
 * @example "ApparelSizeVariantProduct"
 *
 * @return {Array} - array of Variant objects
 * @example
 * [
 *    {
 *      "id": "122811_heather_berry",
 *	    "values": { "ApparelSizeVariantProduct": "300717433", "ApparelStyleVariantProduct": "122811_heather_berry" },
 *    },
 *    {
 *      "id": "122811_heather_berry",
 *	    "values": { "ApparelSizeVariantProduct": "300717434", "ApparelStyleVariantProduct": "122811_heather_berry" },
 *    }
 * ]
 */
var parsePrimaryBaseAndVariantOptions = exports.parsePrimaryBaseAndVariantOptions = function parsePrimaryBaseAndVariantOptions(variantOptions, primaryOptions, productVariantType) {
    var selectedPrimaryVariant = primaryOptions.selected.code;
    return variantOptions.map(function (option) {
        var _values2;

        var id = selectedPrimaryVariant;
        var values = (_values2 = {}, (0, _defineProperty3.default)(_values2, primaryOptions.variantType, selectedPrimaryVariant), (0, _defineProperty3.default)(_values2, productVariantType, option.code), _values2);
        return { id: id, values: values };
    });
};

/**
 * @param {Object} baseOptions- Style or Size baseOptions of current product
 * @example
 * {
 *	"options": [{ "code": "115195_shocking_pink",...}],
 *	"selected": {{ "code": "115195_shocking_pink",...}}
 *	"variantType": "ApparelStyleVariantProduct"
 * }
 * @return {Array} - array of Variant objects
 * @example
 * [
 *    {
 *      "id": "115195_shocking_pink",
 *	    "values": { "ApparelStyleVariantProduct": "115195_shocking_pink" },
 *    }
 * ]
 */
var parsePrimaryOrSecondaryBaseOptions = exports.parsePrimaryOrSecondaryBaseOptions = function parsePrimaryOrSecondaryBaseOptions(baseOptions) {
    return baseOptions.options.map(function (option) {
        var id = option.code;
        var values = (0, _defineProperty3.default)({}, baseOptions.variantType, id);
        return { id: id, values: values };
    });
};

/**
 * @param {Array} variantOptions- variantOptions of current product
 * @example
 * [{ "code": "122811_heather_berry",...}, {"code": "122811_bright_white",...}]
 *
 * @param {string} productVariantType - the type of variant product
 * @example "ApparelStyleVariantProduct"
 *
 * @return {Array} - array of Variant objects
 * @example
 * [
 *    {
 *      "id": "122811_heather_berry",
 *	    "values": { "ApparelStyleVariantProduct": "122811_heather_berry" },
 *    },
 *    {
 *      "id": "122811_bright_white",
 *	    "values": { "ApparelStyleVariantProduct": "122811_bright_white" },
 *    }
 * ]
 */
var parseVariantOptions = exports.parseVariantOptions = function parseVariantOptions(variantOptions, productVariantType) {
    return variantOptions.map(function (option) {
        var id = option.code;
        var values = (0, _defineProperty3.default)({}, productVariantType, id);
        return { id: id, values: values };
    });
};